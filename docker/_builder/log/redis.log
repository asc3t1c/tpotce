Compose now can delegate build to bake for better performances
Just set COMPOSE_BAKE=true
#0 building with "mybuilder" instance using docker-container driver

#1 [redis internal] load build definition from Dockerfile
#1 transferring dockerfile: 568B 0.0s done
#1 DONE 0.1s

#2 [redis auth] library/alpine:pull token for registry-1.docker.io
#2 DONE 0.0s

#3 [redis linux/arm64 internal] load metadata for docker.io/library/alpine:3.20
#3 DONE 0.6s

#4 [redis linux/amd64 internal] load metadata for docker.io/library/alpine:3.20
#4 DONE 0.6s

#5 [redis internal] load .dockerignore
#5 transferring context: 2B done
#5 DONE 0.0s

#6 [redis linux/arm64 1/3] FROM docker.io/library/alpine:3.20@sha256:de4fe7064d8f98419ea6b49190df1abbf43450c1702eeb864fe9ced453c1cc5f
#6 resolve docker.io/library/alpine:3.20@sha256:de4fe7064d8f98419ea6b49190df1abbf43450c1702eeb864fe9ced453c1cc5f 0.0s done
#6 DONE 0.0s

#7 [redis linux/amd64 1/3] FROM docker.io/library/alpine:3.20@sha256:de4fe7064d8f98419ea6b49190df1abbf43450c1702eeb864fe9ced453c1cc5f
#7 resolve docker.io/library/alpine:3.20@sha256:de4fe7064d8f98419ea6b49190df1abbf43450c1702eeb864fe9ced453c1cc5f 0.0s done
#7 DONE 0.0s

#8 [redis internal] load build context
#8 transferring context: 109B done
#8 DONE 0.0s

#7 [redis linux/amd64 1/3] FROM docker.io/library/alpine:3.20@sha256:de4fe7064d8f98419ea6b49190df1abbf43450c1702eeb864fe9ced453c1cc5f
#7 CACHED

#6 [redis linux/arm64 1/3] FROM docker.io/library/alpine:3.20@sha256:de4fe7064d8f98419ea6b49190df1abbf43450c1702eeb864fe9ced453c1cc5f
#6 CACHED

#9 [redis linux/amd64 2/3] COPY dist/ /root/dist/
#9 DONE 0.0s

#10 [redis linux/arm64 2/3] COPY dist/ /root/dist/
#10 DONE 0.0s

#11 [redis linux/arm64 3/3] RUN apk --no-cache -U upgrade &&     apk --no-cache -U add redis shadow &&     cp /root/dist/redis.conf /etc &&     groupmod -g 2000 redis &&     usermod -u 2000 redis &&     apk del --purge             shadow &&     rm -rf /root/*            /tmp/*            /var/tmp/*            /var/cache/apk/*
#11 0.411 fetch https://dl-cdn.alpinelinux.org/alpine/v3.20/main/aarch64/APKINDEX.tar.gz
#11 1.946 fetch https://dl-cdn.alpinelinux.org/alpine/v3.20/community/aarch64/APKINDEX.tar.gz
#11 ...

#12 [redis linux/amd64 3/3] RUN apk --no-cache -U upgrade &&     apk --no-cache -U add redis shadow &&     cp /root/dist/redis.conf /etc &&     groupmod -g 2000 redis &&     usermod -u 2000 redis &&     apk del --purge             shadow &&     rm -rf /root/*            /tmp/*            /var/tmp/*            /var/cache/apk/*
#12 0.213 fetch https://dl-cdn.alpinelinux.org/alpine/v3.20/main/x86_64/APKINDEX.tar.gz
#12 0.408 fetch https://dl-cdn.alpinelinux.org/alpine/v3.20/community/x86_64/APKINDEX.tar.gz
#12 1.244 OK: 8 MiB in 14 packages
#12 1.400 fetch https://dl-cdn.alpinelinux.org/alpine/v3.20/main/x86_64/APKINDEX.tar.gz
#12 1.601 fetch https://dl-cdn.alpinelinux.org/alpine/v3.20/community/x86_64/APKINDEX.tar.gz
#12 2.443 (1/7) Installing redis (7.2.7-r0)
#12 2.461 Executing redis-7.2.7-r0.pre-install
#12 2.610 Executing redis-7.2.7-r0.post-install
#12 2.622 (2/7) Installing libmd (1.1.0-r0)
#12 2.638 (3/7) Installing libbsd (0.12.2-r0)
#12 2.647 (4/7) Installing skalibs (2.14.1.1-r0)
#12 2.668 (5/7) Installing utmps-libs (0.1.2.2-r1)
#12 2.676 (6/7) Installing linux-pam (1.6.0-r0)
#12 2.724 (7/7) Installing shadow (4.15.1-r0)
#12 2.789 Executing busybox-1.36.1-r29.trigger
#12 2.804 OK: 14 MiB in 21 packages
#12 3.064 WARNING: opening from cache https://dl-cdn.alpinelinux.org/alpine/v3.20/main: No such file or directory
#12 3.066 WARNING: opening from cache https://dl-cdn.alpinelinux.org/alpine/v3.20/community: No such file or directory
#12 3.068 (1/6) Purging shadow (4.15.1-r0)
#12 3.073 (2/6) Purging libbsd (0.12.2-r0)
#12 3.073 (3/6) Purging libmd (1.1.0-r0)
#12 3.074 (4/6) Purging linux-pam (1.6.0-r0)
#12 3.080 (5/6) Purging utmps-libs (0.1.2.2-r1)
#12 3.081 (6/6) Purging skalibs (2.14.1.1-r0)
#12 3.082 Executing busybox-1.36.1-r29.trigger
#12 3.101 OK: 11 MiB in 15 packages
#12 DONE 3.2s

#11 [redis linux/arm64 3/3] RUN apk --no-cache -U upgrade &&     apk --no-cache -U add redis shadow &&     cp /root/dist/redis.conf /etc &&     groupmod -g 2000 redis &&     usermod -u 2000 redis &&     apk del --purge             shadow &&     rm -rf /root/*            /tmp/*            /var/tmp/*            /var/cache/apk/*
#11 5.369 OK: 9 MiB in 14 packages
#11 5.885 fetch https://dl-cdn.alpinelinux.org/alpine/v3.20/main/aarch64/APKINDEX.tar.gz
#11 7.298 fetch https://dl-cdn.alpinelinux.org/alpine/v3.20/community/aarch64/APKINDEX.tar.gz
#11 10.48 (1/7) Installing redis (7.2.7-r0)
#11 10.58 Executing redis-7.2.7-r0.pre-install
#11 11.33 Executing redis-7.2.7-r0.post-install
#11 11.43 (2/7) Installing libmd (1.1.0-r0)
#11 11.49 (3/7) Installing libbsd (0.12.2-r0)
#11 11.51 (4/7) Installing skalibs (2.14.1.1-r0)
#11 11.54 (5/7) Installing utmps-libs (0.1.2.2-r1)
#11 11.56 (6/7) Installing linux-pam (1.6.0-r0)
#11 11.70 (7/7) Installing shadow (4.15.1-r0)
#11 11.92 Executing busybox-1.36.1-r29.trigger
#11 12.05 OK: 19 MiB in 21 packages
#11 12.83 WARNING: opening from cache https://dl-cdn.alpinelinux.org/alpine/v3.20/main: No such file or directory
#11 12.83 WARNING: opening from cache https://dl-cdn.alpinelinux.org/alpine/v3.20/community: No such file or directory
#11 12.85 (1/6) Purging shadow (4.15.1-r0)
#11 12.86 (2/6) Purging libbsd (0.12.2-r0)
#11 12.86 (3/6) Purging libmd (1.1.0-r0)
#11 12.86 (4/6) Purging linux-pam (1.6.0-r0)
#11 12.86 (5/6) Purging utmps-libs (0.1.2.2-r1)
#11 12.86 (6/6) Purging skalibs (2.14.1.1-r0)
#11 12.87 Executing busybox-1.36.1-r29.trigger
#11 12.96 OK: 13 MiB in 15 packages
#11 DONE 13.1s

#13 [redis] exporting to image
#13 exporting layers
#13 exporting layers 0.5s done
#13 exporting manifest sha256:879a73a961e6d7165ef707f0bc01c213890151e5c422cc2d5f06d897b6eb0309
#13 exporting manifest sha256:879a73a961e6d7165ef707f0bc01c213890151e5c422cc2d5f06d897b6eb0309 0.0s done
#13 exporting config sha256:e2dc72950226e94f89a94f2351adabcc104744e84b808c5fc879fd842d0ec0d4 0.0s done
#13 exporting attestation manifest sha256:aabb8e3f15ef29e48e05c69dc1ff8d78eb7fce8e94d2245aff8817be0fec1fa2 0.0s done
#13 exporting manifest sha256:987d4f6c0e0242d3d62769b3d2e5f86e3ac86368f491467b9368e26e3344086e done
#13 exporting config sha256:0bc11db8a27c421f4a5d33114d0b2d2597af9e12409c8420401b0c686dc7d12f done
#13 exporting attestation manifest sha256:75698625633d28b18a8c133f7616ab3ca09d8abaee25052a8f2810ca93a22f0e 0.0s done
#13 exporting manifest list sha256:f9b3657f29bb20ec9e95ea65e9740be1ea4ad9e70a2588f1fed52c533c9076e6 done
#13 pushing layers
#13 ...

#14 [redis auth] f0rc3ps/redis:pull,push token for registry-1.docker.io
#14 DONE 0.0s

#13 [redis] exporting to image
#13 ...

#15 [redis auth] f0rc3ps/phpox:pull f0rc3ps/redis:pull,push token for registry-1.docker.io
#15 DONE 0.0s

#13 [redis] exporting to image
#13 pushing layers 3.7s done
#13 pushing manifest for docker.io/f0rc3ps/redis:24.04.1@sha256:f9b3657f29bb20ec9e95ea65e9740be1ea4ad9e70a2588f1fed52c533c9076e6
#13 pushing manifest for docker.io/f0rc3ps/redis:24.04.1@sha256:f9b3657f29bb20ec9e95ea65e9740be1ea4ad9e70a2588f1fed52c533c9076e6 3.3s done
#13 ...

#16 [redis auth] asc3t1c/redis:pull,push token for ghcr.io
#16 DONE 0.0s

#13 [redis] exporting to image
#13 ...

#17 [redis auth] asc3t1c/phpox:pull asc3t1c/redis:pull,push token for ghcr.io
#17 DONE 0.0s

#13 [redis] exporting to image
#13 pushing layers 2.9s done
#13 pushing manifest for ghcr.io/asc3t1c/redis:24.04.1@sha256:f9b3657f29bb20ec9e95ea65e9740be1ea4ad9e70a2588f1fed52c533c9076e6
#13 pushing manifest for ghcr.io/asc3t1c/redis:24.04.1@sha256:f9b3657f29bb20ec9e95ea65e9740be1ea4ad9e70a2588f1fed52c533c9076e6 2.7s done
#13 DONE 13.1s

#18 [redis] resolving provenance for metadata file
#18 DONE 0.0s
