Compose now can delegate build to bake for better performances
Just set COMPOSE_BAKE=true
#0 building with "mybuilder" instance using docker-container driver

#1 [go-pot internal] load build definition from Dockerfile
#1 transferring dockerfile: 540B 0.0s done
#1 DONE 0.0s

#2 [go-pot auth] library/golang:pull token for registry-1.docker.io
#2 DONE 0.0s

#3 [go-pot linux/arm64 internal] load metadata for docker.io/library/golang:1.23-alpine
#3 DONE 0.8s

#4 [go-pot linux/amd64 internal] load metadata for docker.io/library/golang:1.23-alpine
#4 DONE 0.8s

#5 [go-pot internal] load .dockerignore
#5 transferring context: 2B 0.0s done
#5 DONE 0.0s

#6 [go-pot linux/arm64 builder 1/4] FROM docker.io/library/golang:1.23-alpine@sha256:f8113c4b13e2a8b3a168dceaee88ac27743cc84e959f43b9dbd2291e9c3f57a0
#6 resolve docker.io/library/golang:1.23-alpine@sha256:f8113c4b13e2a8b3a168dceaee88ac27743cc84e959f43b9dbd2291e9c3f57a0 0.0s done
#6 DONE 0.0s

#7 [go-pot linux/amd64 builder 1/4] FROM docker.io/library/golang:1.23-alpine@sha256:f8113c4b13e2a8b3a168dceaee88ac27743cc84e959f43b9dbd2291e9c3f57a0
#7 resolve docker.io/library/golang:1.23-alpine@sha256:f8113c4b13e2a8b3a168dceaee88ac27743cc84e959f43b9dbd2291e9c3f57a0 0.0s done
#7 DONE 0.0s

#8 [go-pot internal] load build context
#8 transferring context: 13.27kB 0.0s done
#8 DONE 0.0s

#9 [go-pot linux/arm64 builder 3/4] WORKDIR /opt/go-pot
#9 CACHED

#10 [go-pot linux/arm64 stage-1 2/3] COPY dist/config.yml /opt/go-pot/config.yml
#10 CACHED

#11 [go-pot linux/arm64 stage-1 1/3] COPY --from=builder /opt/go-pot/go-pot /opt/go-pot/go-pot
#11 CACHED

#12 [go-pot linux/arm64 builder 4/4] RUN CGO_ENABLED=0 GOOS=linux go build -o /opt/go-pot/go-pot
#12 CACHED

#13 [go-pot linux/arm64 builder 2/4] RUN <<EOF (apk -U upgrade...)
#13 CACHED

#14 [go-pot linux/arm64 stage-1 3/3] WORKDIR /opt/go-pot
#14 CACHED

#15 [go-pot linux/amd64 builder 4/4] RUN CGO_ENABLED=0 GOOS=linux go build -o /opt/go-pot/go-pot
#15 CACHED

#16 [go-pot linux/amd64 stage-1 1/3] COPY --from=builder /opt/go-pot/go-pot /opt/go-pot/go-pot
#16 CACHED

#17 [go-pot linux/amd64 stage-1 2/3] COPY dist/config.yml /opt/go-pot/config.yml
#17 CACHED

#18 [go-pot linux/amd64 builder 2/4] RUN <<EOF (apk -U upgrade...)
#18 CACHED

#19 [go-pot linux/amd64 builder 3/4] WORKDIR /opt/go-pot
#19 CACHED

#20 [go-pot linux/amd64 stage-1 3/3] WORKDIR /opt/go-pot
#20 CACHED

#21 [go-pot] exporting to image
#21 exporting layers done
#21 exporting manifest sha256:d74a133782ea4e43a59a31d5f265e927a044a662facd311752ab66860e318af2 done
#21 exporting config sha256:4e38c5de329baf4c5c2f28d511b61b39d05aecc0685023f5ae0d6754a0074a80 done
#21 exporting attestation manifest sha256:022bf4eba5c04f1a973057a1d738d2f650f2ad51d6c0498c599f08428008a2f1 0.0s done
#21 exporting manifest sha256:ae78b1e607f8b4ca2f0737760f3d45c4d39db55a4e42f1585c6117f89348608f done
#21 exporting config sha256:92f9ad01112b376327bece4386f40ad4124898e33def5cf1296d9c3d84ce87d1 done
#21 exporting attestation manifest sha256:6f298925ece7cc56702faa11b5619e8dc417e268d73c57ba20b0927f1dab8944 0.0s done
#21 exporting manifest list sha256:0692b4a8843626e7f391817b69bd337a45d9f4331ccad15f44732955d64482f5
#21 exporting manifest list sha256:0692b4a8843626e7f391817b69bd337a45d9f4331ccad15f44732955d64482f5 0.0s done
#21 pushing layers
#21 ...

#22 [go-pot auth] f0rc3ps/go-pot:pull,push token for registry-1.docker.io
#22 DONE 0.0s

#21 [go-pot] exporting to image
#21 pushing layers 1.4s done
#21 pushing manifest for docker.io/f0rc3ps/go-pot:24.04.1@sha256:0692b4a8843626e7f391817b69bd337a45d9f4331ccad15f44732955d64482f5
#21 pushing manifest for docker.io/f0rc3ps/go-pot:24.04.1@sha256:0692b4a8843626e7f391817b69bd337a45d9f4331ccad15f44732955d64482f5 2.1s done
#21 ...

#23 [go-pot auth] asc3t1c/go-pot:pull,push token for ghcr.io
#23 DONE 0.0s

#21 [go-pot] exporting to image
#21 pushing layers 1.4s done
#21 pushing manifest for ghcr.io/asc3t1c/go-pot:24.04.1@sha256:0692b4a8843626e7f391817b69bd337a45d9f4331ccad15f44732955d64482f5
#21 pushing manifest for ghcr.io/asc3t1c/go-pot:24.04.1@sha256:0692b4a8843626e7f391817b69bd337a45d9f4331ccad15f44732955d64482f5 2.1s done
#21 DONE 7.3s

#24 [go-pot] resolving provenance for metadata file
#24 DONE 0.0s
