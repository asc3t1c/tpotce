Compose now can delegate build to bake for better performances
Just set COMPOSE_BAKE=true
#0 building with "mybuilder" instance using docker-container driver

#1 [miniprint internal] load build definition from Dockerfile
#1 transferring dockerfile: 942B 0.0s done
#1 DONE 0.1s

#2 [miniprint auth] library/alpine:pull token for registry-1.docker.io
#2 DONE 0.0s

#3 [miniprint linux/amd64 internal] load metadata for docker.io/library/alpine:3.20
#3 DONE 1.0s

#4 [miniprint linux/arm64 internal] load metadata for docker.io/library/alpine:3.20
#4 DONE 1.0s

#5 [miniprint internal] load .dockerignore
#5 transferring context: 2B done
#5 DONE 0.0s

#6 [miniprint linux/arm64 stage-1 2/6] RUN apk --no-cache -U upgrade
#6 CACHED

#7 [miniprint linux/arm64 builder 1/7] FROM docker.io/library/alpine:3.20@sha256:de4fe7064d8f98419ea6b49190df1abbf43450c1702eeb864fe9ced453c1cc5f
#7 resolve docker.io/library/alpine:3.20@sha256:de4fe7064d8f98419ea6b49190df1abbf43450c1702eeb864fe9ced453c1cc5f 0.0s done
#7 CACHED

#8 [miniprint linux/amd64 builder 1/7] FROM docker.io/library/alpine:3.20@sha256:de4fe7064d8f98419ea6b49190df1abbf43450c1702eeb864fe9ced453c1cc5f
#8 resolve docker.io/library/alpine:3.20@sha256:de4fe7064d8f98419ea6b49190df1abbf43450c1702eeb864fe9ced453c1cc5f 0.0s done
#8 CACHED

#9 [miniprint linux/amd64 stage-1 2/6] RUN apk --no-cache -U upgrade
#9 CACHED

#10 [miniprint linux/amd64 builder 2/7] RUN apk --no-cache -U upgrade && 	apk --no-cache -U add 	build-base 	git 	python3     py3-pip
#10 0.224 fetch https://dl-cdn.alpinelinux.org/alpine/v3.20/main/x86_64/APKINDEX.tar.gz
#10 0.481 fetch https://dl-cdn.alpinelinux.org/alpine/v3.20/community/x86_64/APKINDEX.tar.gz
#10 1.419 OK: 8 MiB in 14 packages
#10 1.602 fetch https://dl-cdn.alpinelinux.org/alpine/v3.20/main/x86_64/APKINDEX.tar.gz
#10 1.803 fetch https://dl-cdn.alpinelinux.org/alpine/v3.20/community/x86_64/APKINDEX.tar.gz
#10 2.793 (1/55) Installing libgcc (13.2.1_git20240309-r1)
#10 2.817 (2/55) Installing jansson (2.14-r4)
#10 2.827 (3/55) Installing libstdc++ (13.2.1_git20240309-r1)
#10 2.925 (4/55) Installing zstd-libs (1.5.6-r0)
#10 2.964 (5/55) Installing binutils (2.42-r0)
#10 3.285 (6/55) Installing libmagic (5.45-r1)
#10 3.380 (7/55) Installing file (5.45-r1)
#10 3.389 (8/55) Installing libgomp (13.2.1_git20240309-r1)
#10 3.414 (9/55) Installing libatomic (13.2.1_git20240309-r1)
#10 3.423 (10/55) Installing gmp (6.3.0-r1)
#10 3.454 (11/55) Installing isl26 (0.26-r1)
#10 3.547 (12/55) Installing mpfr4 (4.2.1-r0)
#10 3.582 (13/55) Installing mpc1 (1.3.1-r1)
#10 3.593 (14/55) Installing gcc (13.2.1_git20240309-r1)
#10 7.711 (15/55) Installing libstdc++-dev (13.2.1_git20240309-r1)
#10 8.091 (16/55) Installing musl-dev (1.2.5-r1)
#10 8.418 (17/55) Installing g++ (13.2.1_git20240309-r1)
#10 9.849 (18/55) Installing make (4.4.1-r2)
#10 9.873 (19/55) Installing fortify-headers (1.1-r3)
#10 9.892 (20/55) Installing patch (2.7.6-r10)
#10 9.911 (21/55) Installing build-base (0.5-r3)
#10 9.926 (22/55) Installing ca-certificates (20241121-r1)
#10 10.01 (23/55) Installing brotli-libs (1.1.0-r2)
#10 ...

#11 [miniprint linux/arm64 builder 2/7] RUN apk --no-cache -U upgrade && 	apk --no-cache -U add 	build-base 	git 	python3     py3-pip
#11 0.474 fetch https://dl-cdn.alpinelinux.org/alpine/v3.20/main/aarch64/APKINDEX.tar.gz
#11 2.174 fetch https://dl-cdn.alpinelinux.org/alpine/v3.20/community/aarch64/APKINDEX.tar.gz
#11 6.336 OK: 9 MiB in 14 packages
#11 6.971 fetch https://dl-cdn.alpinelinux.org/alpine/v3.20/main/aarch64/APKINDEX.tar.gz
#11 8.616 fetch https://dl-cdn.alpinelinux.org/alpine/v3.20/community/aarch64/APKINDEX.tar.gz
#11 ...

#10 [miniprint linux/amd64 builder 2/7] RUN apk --no-cache -U upgrade && 	apk --no-cache -U add 	build-base 	git 	python3     py3-pip
#10 10.08 (24/55) Installing c-ares (1.33.1-r0)
#10 10.10 (25/55) Installing libunistring (1.2-r0)
#10 10.17 (26/55) Installing libidn2 (2.3.7-r0)
#10 10.20 (27/55) Installing nghttp2-libs (1.62.1-r0)
#10 10.22 (28/55) Installing libpsl (0.21.5-r1)
#10 10.23 (29/55) Installing libcurl (8.12.1-r0)
#10 10.28 (30/55) Installing libexpat (2.6.4-r0)
#10 10.30 (31/55) Installing pcre2 (10.43-r0)
#10 10.35 (32/55) Installing git (2.45.3-r0)
#10 10.77 (33/55) Installing git-init-template (2.45.3-r0)
#10 10.78 (34/55) Installing libbz2 (1.0.8-r6)
#10 10.79 (35/55) Installing libffi (3.4.6-r0)
#10 10.80 (36/55) Installing gdbm (1.23-r1)
#10 10.81 (37/55) Installing xz-libs (5.6.2-r0)
#10 10.83 (38/55) Installing mpdecimal (4.0.0-r0)
#10 10.85 (39/55) Installing ncurses-terminfo-base (6.4_p20240420-r2)
#10 10.86 (40/55) Installing libncursesw (6.4_p20240420-r2)
#10 10.89 (41/55) Installing libpanelw (6.4_p20240420-r2)
#10 10.90 (42/55) Installing readline (8.2.10-r0)
#10 10.92 (43/55) Installing sqlite-libs (3.45.3-r1)
#10 11.03 (44/55) Installing python3 (3.12.9-r0)
#10 11.87 (45/55) Installing python3-pycache-pyc0 (3.12.9-r0)
#10 12.29 (46/55) Installing pyc (3.12.9-r0)
#10 12.30 (47/55) Installing py3-setuptools-pyc (70.3.0-r0)
#10 12.45 (48/55) Installing py3-pip-pyc (24.0-r2)
#10 12.74 (49/55) Installing py3-parsing (3.1.2-r1)
#10 12.78 (50/55) Installing py3-parsing-pyc (3.1.2-r1)
#10 12.81 (51/55) Installing py3-packaging-pyc (24.0-r1)
#10 12.84 (52/55) Installing python3-pyc (3.12.9-r0)
#10 12.85 (53/55) Installing py3-packaging (24.0-r1)
#10 12.87 (54/55) Installing py3-setuptools (70.3.0-r0)
#10 13.00 (55/55) Installing py3-pip (24.0-r2)
#10 13.26 Executing busybox-1.36.1-r29.trigger
#10 13.30 Executing ca-certificates-20241121-r1.trigger
#10 13.40 OK: 300 MiB in 69 packages
#10 DONE 14.5s

#12 [miniprint linux/amd64 builder 3/7] RUN	MKDIR -p /opt && 	cd /opt/ && 	git clone https://github.com/t3chn0m4g3/miniprint
#12 0.279 Cloning into 'miniprint'...
#12 DONE 1.3s

#11 [miniprint linux/arm64 builder 2/7] RUN apk --no-cache -U upgrade && 	apk --no-cache -U add 	build-base 	git 	python3     py3-pip
#11 12.57 (1/55) Installing libgcc (13.2.1_git20240309-r1)
#11 12.67 (2/55) Installing jansson (2.14-r4)
#11 12.74 (3/55) Installing libstdc++ (13.2.1_git20240309-r1)
#11 13.09 (4/55) Installing zstd-libs (1.5.6-r0)
#11 13.22 (5/55) Installing binutils (2.42-r0)
#11 14.46 (6/55) Installing libmagic (5.45-r1)
#11 14.77 (7/55) Installing file (5.45-r1)
#11 14.78 (8/55) Installing libgomp (13.2.1_git20240309-r1)
#11 14.85 (9/55) Installing libatomic (13.2.1_git20240309-r1)
#11 14.86 (10/55) Installing gmp (6.3.0-r1)
#11 14.93 (11/55) Installing isl26 (0.26-r1)
#11 15.26 (12/55) Installing mpfr4 (4.2.1-r0)
#11 15.36 (13/55) Installing mpc1 (1.3.1-r1)
#11 15.39 (14/55) Installing gcc (13.2.1_git20240309-r1)
#11 ...

#13 [miniprint linux/amd64 builder 4/7] WORKDIR /opt/miniprint
#13 DONE 0.1s

#14 [miniprint linux/amd64 builder 5/7] RUN pip3 install --break-system-packages pyinstaller
#14 5.391 Collecting pyinstaller
#14 5.466   Downloading pyinstaller-6.12.0-py3-none-musllinux_1_1_x86_64.whl.metadata (8.3 kB)
#14 5.504 Requirement already satisfied: setuptools>=42.0.0 in /usr/lib/python3.12/site-packages (from pyinstaller) (70.3.0)
#14 5.535 Collecting altgraph (from pyinstaller)
#14 5.545   Downloading altgraph-0.17.4-py2.py3-none-any.whl.metadata (7.3 kB)
#14 5.644 Collecting pyinstaller-hooks-contrib>=2025.1 (from pyinstaller)
#14 5.656   Downloading pyinstaller_hooks_contrib-2025.1-py3-none-any.whl.metadata (16 kB)
#14 5.688 Requirement already satisfied: packaging>=22.0 in /usr/lib/python3.12/site-packages (from pyinstaller) (24.0)
#14 5.872 Downloading pyinstaller-6.12.0-py3-none-musllinux_1_1_x86_64.whl (715 kB)
#14 5.962    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 715.9/715.9 kB 7.9 MB/s eta 0:00:00
#14 5.981 Downloading pyinstaller_hooks_contrib-2025.1-py3-none-any.whl (346 kB)
#14 6.037    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 346.4/346.4 kB 7.0 MB/s eta 0:00:00
#14 6.053 Downloading altgraph-0.17.4-py2.py3-none-any.whl (21 kB)
#14 6.280 Installing collected packages: altgraph, pyinstaller-hooks-contrib, pyinstaller
#14 8.543 Successfully installed altgraph-0.17.4 pyinstaller-6.12.0 pyinstaller-hooks-contrib-2025.1
#14 8.544 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#14 DONE 9.5s

#11 [miniprint linux/arm64 builder 2/7] RUN apk --no-cache -U upgrade && 	apk --no-cache -U add 	build-base 	git 	python3     py3-pip
#11 ...

#15 [miniprint linux/amd64 builder 6/7] RUN	PIP3 install --break-system-packages -r requirements.txt
#15 1.922 Collecting pyfakefs (from -r requirements.txt (line 1))
#15 2.023   Downloading pyfakefs-5.7.4-py3-none-any.whl.metadata (7.8 kB)
#15 2.130 Collecting pytest-xdist (from -r requirements.txt (line 2))
#15 2.140   Downloading pytest_xdist-3.6.1-py3-none-any.whl.metadata (4.3 kB)
#15 2.178 Collecting argparse (from -r requirements.txt (line 3))
#15 2.195   Downloading argparse-1.4.0-py2.py3-none-any.whl.metadata (2.8 kB)
#15 2.266 Collecting execnet>=2.1 (from pytest-xdist->-r requirements.txt (line 2))
#15 2.278   Downloading execnet-2.1.1-py3-none-any.whl.metadata (2.9 kB)
#15 2.519 Collecting pytest>=7.0.0 (from pytest-xdist->-r requirements.txt (line 2))
#15 2.527   Downloading pytest-8.3.4-py3-none-any.whl.metadata (7.5 kB)
#15 2.593 Collecting iniconfig (from pytest>=7.0.0->pytest-xdist->-r requirements.txt (line 2))
#15 2.604   Downloading iniconfig-2.0.0-py3-none-any.whl.metadata (2.6 kB)
#15 2.618 Requirement already satisfied: packaging in /usr/lib/python3.12/site-packages (from pytest>=7.0.0->pytest-xdist->-r requirements.txt (line 2)) (24.0)
#15 2.666 Collecting pluggy<2,>=1.5 (from pytest>=7.0.0->pytest-xdist->-r requirements.txt (line 2))
#15 2.685   Downloading pluggy-1.5.0-py3-none-any.whl.metadata (4.8 kB)
#15 2.722 Downloading pyfakefs-5.7.4-py3-none-any.whl (228 kB)
#15 2.764    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 228.7/228.7 kB 6.7 MB/s eta 0:00:00
#15 2.775 Downloading pytest_xdist-3.6.1-py3-none-any.whl (46 kB)
#15 2.792    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 46.1/46.1 kB 4.4 MB/s eta 0:00:00
#15 2.801 Downloading argparse-1.4.0-py2.py3-none-any.whl (23 kB)
#15 2.819 Downloading execnet-2.1.1-py3-none-any.whl (40 kB)
#15 2.831    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 40.6/40.6 kB 4.3 MB/s eta 0:00:00
#15 2.842 Downloading pytest-8.3.4-py3-none-any.whl (343 kB)
#15 2.891    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 343.1/343.1 kB 7.5 MB/s eta 0:00:00
#15 2.900 Downloading pluggy-1.5.0-py3-none-any.whl (20 kB)
#15 2.919 Downloading iniconfig-2.0.0-py3-none-any.whl (5.9 kB)
#15 3.162 Installing collected packages: argparse, pyfakefs, pluggy, iniconfig, execnet, pytest, pytest-xdist
#15 5.782 Successfully installed argparse-1.4.0 execnet-2.1.1 iniconfig-2.0.0 pluggy-1.5.0 pyfakefs-5.7.4 pytest-8.3.4 pytest-xdist-3.6.1
#15 5.785 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#15 DONE 6.3s

#11 [miniprint linux/arm64 builder 2/7] RUN apk --no-cache -U upgrade && 	apk --no-cache -U add 	build-base 	git 	python3     py3-pip
#11 29.77 (15/55) Installing libstdc++-dev (13.2.1_git20240309-r1)
#11 31.52 (16/55) Installing musl-dev (1.2.5-r1)
#11 32.55 (17/55) Installing g++ (13.2.1_git20240309-r1)
#11 ...

#16 [miniprint linux/amd64 builder 7/7] RUN pyinstaller server.py 		--add-data "./fake-files:./fake-files" 		--add-data "./uploads:./uploads"
#16 0.859 285 INFO: PyInstaller: 6.12.0, contrib hooks: 2025.1
#16 0.861 287 INFO: Python: 3.12.9
#16 0.867 293 INFO: Platform: Linux-6.11.0-18-generic-x86_64-with
#16 0.867 293 INFO: Python environment: /usr
#16 0.873 298 INFO: wrote /opt/miniprint/server.spec
#16 0.888 312 INFO: Module search paths (PYTHONPATH):
#16 0.888 ['/usr/lib/python312.zip',
#16 0.888  '/usr/lib/python3.12',
#16 0.888  '/usr/lib/python3.12/lib-dynload',
#16 0.888  '/usr/lib/python3.12/site-packages',
#16 0.888  '/opt/miniprint']
#16 1.451 877 INFO: Appending 'datas' from .spec
#16 1.456 882 INFO: checking Analysis
#16 1.458 883 INFO: Building Analysis because Analysis-00.toc is non existent
#16 1.458 884 INFO: Running Analysis Analysis-00.toc
#16 1.459 885 INFO: Target bytecode optimization level: 0
#16 1.462 885 INFO: Initializing module dependency graph...
#16 1.462 887 INFO: Initializing module graph hook caches...
#16 1.488 914 INFO: Analyzing modules for base_library.zip ...
#16 4.662 4087 INFO: Processing standard module hook 'hook-encodings.py' from '/usr/lib/python3.12/site-packages/PyInstaller/hooks'
#16 ...

#11 [miniprint linux/arm64 builder 2/7] RUN apk --no-cache -U upgrade && 	apk --no-cache -U add 	build-base 	git 	python3     py3-pip
#11 36.85 (18/55) Installing make (4.4.1-r2)
#11 36.91 (19/55) Installing fortify-headers (1.1-r3)
#11 36.93 (20/55) Installing patch (2.7.6-r10)
#11 36.98 (21/55) Installing build-base (0.5-r3)
#11 36.99 (22/55) Installing ca-certificates (20241121-r1)
#11 37.15 (23/55) Installing brotli-libs (1.1.0-r2)
#11 37.29 (24/55) Installing c-ares (1.33.1-r0)
#11 37.34 (25/55) Installing libunistring (1.2-r0)
#11 37.58 (26/55) Installing libidn2 (2.3.7-r0)
#11 37.63 (27/55) Installing nghttp2-libs (1.62.1-r0)
#11 37.67 (28/55) Installing libpsl (0.21.5-r1)
#11 37.70 (29/55) Installing libcurl (8.12.1-r0)
#11 37.82 (30/55) Installing libexpat (2.6.4-r0)
#11 37.85 (31/55) Installing pcre2 (10.43-r0)
#11 37.97 (32/55) Installing git (2.45.3-r0)
#11 39.06 (33/55) Installing git-init-template (2.45.3-r0)
#11 39.07 (34/55) Installing libbz2 (1.0.8-r6)
#11 39.09 (35/55) Installing libffi (3.4.6-r0)
#11 39.11 (36/55) Installing gdbm (1.23-r1)
#11 39.13 (37/55) Installing xz-libs (5.6.2-r0)
#11 39.17 (38/55) Installing mpdecimal (4.0.0-r0)
#11 39.21 (39/55) Installing ncurses-terminfo-base (6.4_p20240420-r2)
#11 39.25 (40/55) Installing libncursesw (6.4_p20240420-r2)
#11 39.31 (41/55) Installing libpanelw (6.4_p20240420-r2)
#11 39.32 (42/55) Installing readline (8.2.10-r0)
#11 39.37 (43/55) Installing sqlite-libs (3.45.3-r1)
#11 39.65 (44/55) Installing python3 (3.12.9-r0)
#11 42.69 (45/55) Installing python3-pycache-pyc0 (3.12.9-r0)
#11 43.96 (46/55) Installing pyc (3.12.9-r0)
#11 43.97 (47/55) Installing py3-setuptools-pyc (70.3.0-r0)
#11 44.45 (48/55) Installing py3-pip-pyc (24.0-r2)
#11 45.56 (49/55) Installing py3-parsing (3.1.2-r1)
#11 45.61 (50/55) Installing py3-parsing-pyc (3.1.2-r1)
#11 45.68 (51/55) Installing py3-packaging-pyc (24.0-r1)
#11 45.73 (52/55) Installing python3-pyc (3.12.9-r0)
#11 45.73 (53/55) Installing py3-packaging (24.0-r1)
#11 45.77 (54/55) Installing py3-setuptools (70.3.0-r0)
#11 46.19 (55/55) Installing py3-pip (24.0-r2)
#11 47.11 Executing busybox-1.36.1-r29.trigger
#11 47.22 Executing ca-certificates-20241121-r1.trigger
#11 48.09 OK: 294 MiB in 69 packages
#11 ...

#16 [miniprint linux/amd64 builder 7/7] RUN pyinstaller server.py 		--add-data "./fake-files:./fake-files" 		--add-data "./uploads:./uploads"
#16 6.485 5911 INFO: Processing standard module hook 'hook-heapq.py' from '/usr/lib/python3.12/site-packages/PyInstaller/hooks'
#16 9.777 9203 INFO: Processing standard module hook 'hook-pickle.py' from '/usr/lib/python3.12/site-packages/PyInstaller/hooks'
#16 14.22 13645 INFO: Caching module dependency graph...
#16 14.33 13751 INFO: Looking for Python shared library...
#16 14.34 13764 INFO: Using Python shared library: /usr/lib/libpython3.12.so.1.0
#16 14.34 13764 INFO: Analyzing /opt/miniprint/server.py
#16 15.06 14487 INFO: Processing standard module hook 'hook-difflib.py' from '/usr/lib/python3.12/site-packages/PyInstaller/hooks'
#16 16.04 15464 INFO: Processing standard module hook 'hook-platform.py' from '/usr/lib/python3.12/site-packages/PyInstaller/hooks'
#16 16.11 15536 INFO: Processing standard module hook 'hook-sysconfig.py' from '/usr/lib/python3.12/site-packages/PyInstaller/hooks'
#16 ...

#11 [miniprint linux/arm64 builder 2/7] RUN apk --no-cache -U upgrade && 	apk --no-cache -U add 	build-base 	git 	python3     py3-pip
#11 DONE 49.0s

#17 [miniprint linux/arm64 builder 3/7] RUN	MKDIR -p /opt && 	cd /opt/ && 	git clone https://github.com/t3chn0m4g3/miniprint
#17 0.320 Cloning into 'miniprint'...
#17 DONE 2.6s

#16 [miniprint linux/amd64 builder 7/7] RUN pyinstaller server.py 		--add-data "./fake-files:./fake-files" 		--add-data "./uploads:./uploads"
#16 17.73 17157 INFO: Processing standard module hook 'hook-multiprocessing.util.py' from '/usr/lib/python3.12/site-packages/PyInstaller/hooks'
#16 17.97 17400 INFO: Processing standard module hook 'hook-xml.py' from '/usr/lib/python3.12/site-packages/PyInstaller/hooks'
#16 ...

#18 [miniprint linux/arm64 builder 4/7] WORKDIR /opt/miniprint
#18 DONE 0.0s

#19 [miniprint linux/arm64 builder 5/7] RUN pip3 install --break-system-packages pyinstaller
#19 ...

#16 [miniprint linux/amd64 builder 7/7] RUN pyinstaller server.py 		--add-data "./fake-files:./fake-files" 		--add-data "./uploads:./uploads"
#16 21.49 20913 INFO: Processing module hooks (post-graph stage)...
#16 22.29 21717 INFO: Performing binary vs. data reclassification (5 entries)
#16 22.31 21737 INFO: Looking for ctypes DLLs
#16 22.34 21767 INFO: Analyzing run-time hooks ...
#16 22.35 21772 INFO: Including run-time hook 'pyi_rth_inspect.py' from '/usr/lib/python3.12/site-packages/PyInstaller/hooks/rthooks'
#16 22.35 21779 INFO: Including run-time hook 'pyi_rth_pkgutil.py' from '/usr/lib/python3.12/site-packages/PyInstaller/hooks/rthooks'
#16 22.36 21785 INFO: Including run-time hook 'pyi_rth_multiprocessing.py' from '/usr/lib/python3.12/site-packages/PyInstaller/hooks/rthooks'
#16 22.38 21805 INFO: Creating base_library.zip...
#16 22.48 21902 INFO: Looking for dynamic libraries
#16 22.72 22145 INFO: Warnings written to /opt/miniprint/build/server/warn-server.txt
#16 22.76 22186 INFO: Graph cross-reference written to /opt/miniprint/build/server/xref-server.html
#16 22.79 22221 INFO: checking PYZ
#16 22.79 22221 INFO: Building PYZ because PYZ-00.toc is non existent
#16 22.79 22221 INFO: Building PYZ (ZlibArchive) /opt/miniprint/build/server/PYZ-00.pyz
#16 23.78 23203 INFO: Building PYZ (ZlibArchive) /opt/miniprint/build/server/PYZ-00.pyz completed successfully.
#16 23.79 23218 INFO: checking PKG
#16 23.80 23218 INFO: Building PKG because PKG-00.toc is non existent
#16 23.80 23218 INFO: Building PKG (CArchive) server.pkg
#16 23.83 23261 INFO: Building PKG (CArchive) server.pkg completed successfully.
#16 23.84 23262 INFO: Bootloader /usr/lib/python3.12/site-packages/PyInstaller/bootloader/Linux-64bit-intel-musl/run
#16 23.84 23262 INFO: checking EXE
#16 23.84 23262 INFO: Building EXE because EXE-00.toc is non existent
#16 23.84 23262 INFO: Building EXE from EXE-00.toc
#16 23.84 23262 INFO: Copying bootloader EXE to /opt/miniprint/build/server/server
#16 23.84 23264 INFO: Appending PKG archive to custom ELF section in EXE
#16 23.87 23293 INFO: Building EXE from EXE-00.toc completed successfully.
#16 23.87 23297 INFO: checking COLLECT
#16 23.87 23298 INFO: Building COLLECT because COLLECT-00.toc is non existent
#16 23.87 23299 INFO: Building COLLECT COLLECT-00.toc
#16 23.93 23351 INFO: Building COLLECT COLLECT-00.toc completed successfully.
#16 23.93 23356 INFO: Build complete! The results are available in: /opt/miniprint/dist
#16 DONE 24.2s

#19 [miniprint linux/arm64 builder 5/7] RUN pip3 install --break-system-packages pyinstaller
#19 ...

#20 [miniprint linux/amd64 stage-1 3/6] COPY --from=builder /opt/miniprint/dist/* /opt/miniprint/
#20 DONE 0.2s

#19 [miniprint linux/arm64 builder 5/7] RUN pip3 install --break-system-packages pyinstaller
#19 ...

#21 [miniprint linux/amd64 stage-1 4/6] COPY --from=builder /opt/miniprint/fake-files/ /opt/miniprint/fake-files/
#21 DONE 0.0s

#22 [miniprint linux/amd64 stage-1 5/6] COPY --from=builder /opt/miniprint/uploads/ /opt/miniprint/uploads/
#22 DONE 0.0s

#23 [miniprint linux/amd64 stage-1 6/6] WORKDIR /opt/miniprint/
#23 DONE 0.0s

#19 [miniprint linux/arm64 builder 5/7] RUN pip3 install --break-system-packages pyinstaller
#19 31.36 Collecting pyinstaller
#19 32.29   Downloading pyinstaller-6.12.0-py3-none-musllinux_1_1_aarch64.whl.metadata (8.3 kB)
#19 32.79 Requirement already satisfied: setuptools>=42.0.0 in /usr/lib/python3.12/site-packages (from pyinstaller) (70.3.0)
#19 33.07 Collecting altgraph (from pyinstaller)
#19 33.13   Downloading altgraph-0.17.4-py2.py3-none-any.whl.metadata (7.3 kB)
#19 34.09 Collecting pyinstaller-hooks-contrib>=2025.1 (from pyinstaller)
#19 34.13   Downloading pyinstaller_hooks_contrib-2025.1-py3-none-any.whl.metadata (16 kB)
#19 34.25 Requirement already satisfied: packaging>=22.0 in /usr/lib/python3.12/site-packages (from pyinstaller) (24.0)
#19 35.47 Downloading pyinstaller-6.12.0-py3-none-musllinux_1_1_aarch64.whl (719 kB)
#19 35.81    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 719.4/719.4 kB 3.0 MB/s eta 0:00:00
#19 35.86 Downloading pyinstaller_hooks_contrib-2025.1-py3-none-any.whl (346 kB)
#19 36.00    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 346.4/346.4 kB 3.5 MB/s eta 0:00:00
#19 36.04 Downloading altgraph-0.17.4-py2.py3-none-any.whl (21 kB)
#19 37.95 Installing collected packages: altgraph, pyinstaller-hooks-contrib, pyinstaller
#19 52.04 Successfully installed altgraph-0.17.4 pyinstaller-6.12.0 pyinstaller-hooks-contrib-2025.1
#19 52.05 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#19 DONE 55.0s

#24 [miniprint linux/arm64 builder 6/7] RUN	PIP3 install --break-system-packages -r requirements.txt
#24 12.89 Collecting pyfakefs (from -r requirements.txt (line 1))
#24 13.65   Downloading pyfakefs-5.7.4-py3-none-any.whl.metadata (7.8 kB)
#24 14.71 Collecting pytest-xdist (from -r requirements.txt (line 2))
#24 14.75   Downloading pytest_xdist-3.6.1-py3-none-any.whl.metadata (4.3 kB)
#24 15.00 Collecting argparse (from -r requirements.txt (line 3))
#24 15.05   Downloading argparse-1.4.0-py2.py3-none-any.whl.metadata (2.8 kB)
#24 15.68 Collecting execnet>=2.1 (from pytest-xdist->-r requirements.txt (line 2))
#24 15.74   Downloading execnet-2.1.1-py3-none-any.whl.metadata (2.9 kB)
#24 18.45 Collecting pytest>=7.0.0 (from pytest-xdist->-r requirements.txt (line 2))
#24 18.49   Downloading pytest-8.3.4-py3-none-any.whl.metadata (7.5 kB)
#24 19.05 Collecting iniconfig (from pytest>=7.0.0->pytest-xdist->-r requirements.txt (line 2))
#24 19.09   Downloading iniconfig-2.0.0-py3-none-any.whl.metadata (2.6 kB)
#24 19.16 Requirement already satisfied: packaging in /usr/lib/python3.12/site-packages (from pytest>=7.0.0->pytest-xdist->-r requirements.txt (line 2)) (24.0)
#24 19.55 Collecting pluggy<2,>=1.5 (from pytest>=7.0.0->pytest-xdist->-r requirements.txt (line 2))
#24 19.59   Downloading pluggy-1.5.0-py3-none-any.whl.metadata (4.8 kB)
#24 19.92 Downloading pyfakefs-5.7.4-py3-none-any.whl (228 kB)
#24 20.13    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 228.7/228.7 kB 2.4 MB/s eta 0:00:00
#24 20.18 Downloading pytest_xdist-3.6.1-py3-none-any.whl (46 kB)
#24 20.28    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 46.1/46.1 kB 713.2 kB/s eta 0:00:00
#24 20.33 Downloading argparse-1.4.0-py2.py3-none-any.whl (23 kB)
#24 20.40 Downloading execnet-2.1.1-py3-none-any.whl (40 kB)
#24 20.50    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 40.6/40.6 kB 1.1 MB/s eta 0:00:00
#24 20.56 Downloading pytest-8.3.4-py3-none-any.whl (343 kB)
#24 20.72    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 343.1/343.1 kB 2.8 MB/s eta 0:00:00
#24 20.77 Downloading pluggy-1.5.0-py3-none-any.whl (20 kB)
#24 20.83 Downloading iniconfig-2.0.0-py3-none-any.whl (5.9 kB)
#24 23.13 Installing collected packages: argparse, pyfakefs, pluggy, iniconfig, execnet, pytest, pytest-xdist
#24 39.04 Successfully installed argparse-1.4.0 execnet-2.1.1 iniconfig-2.0.0 pluggy-1.5.0 pyfakefs-5.7.4 pytest-8.3.4 pytest-xdist-3.6.1
#24 39.04 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#24 DONE 40.2s

#25 [miniprint linux/arm64 builder 7/7] RUN pyinstaller server.py 		--add-data "./fake-files:./fake-files" 		--add-data "./uploads:./uploads"
#25 4.955 2305 INFO: PyInstaller: 6.12.0, contrib hooks: 2025.1
#25 4.968 2322 INFO: Python: 3.12.9
#25 5.040 2395 INFO: Platform: Linux-6.11.0-18-generic-aarch64-with
#25 5.042 2396 INFO: Python environment: /usr
#25 5.052 2407 INFO: wrote /opt/miniprint/server.spec
#25 5.089 2444 INFO: Module search paths (PYTHONPATH):
#25 5.089 ['/usr/lib/python312.zip',
#25 5.089  '/usr/lib/python3.12',
#25 5.089  '/usr/lib/python3.12/lib-dynload',
#25 5.089  '/usr/lib/python3.12/site-packages',
#25 5.089  '/opt/miniprint']
#25 9.606 6960 INFO: Appending 'datas' from .spec
#25 9.619 6974 INFO: checking Analysis
#25 9.620 6975 INFO: Building Analysis because Analysis-00.toc is non existent
#25 9.621 6976 INFO: Running Analysis Analysis-00.toc
#25 9.622 6976 INFO: Target bytecode optimization level: 0
#25 9.622 6978 INFO: Initializing module dependency graph...
#25 9.633 6988 INFO: Initializing module graph hook caches...
#25 9.849 7204 INFO: Analyzing modules for base_library.zip ...
#25 34.76 32119 INFO: Processing standard module hook 'hook-encodings.py' from '/usr/lib/python3.12/site-packages/PyInstaller/hooks'
#25 52.17 49520 INFO: Processing standard module hook 'hook-heapq.py' from '/usr/lib/python3.12/site-packages/PyInstaller/hooks'
#25 85.03 82388 INFO: Processing standard module hook 'hook-pickle.py' from '/usr/lib/python3.12/site-packages/PyInstaller/hooks'
#25 124.9 122275 INFO: Caching module dependency graph...
#25 126.1 123466 INFO: Looking for Python shared library...
#25 126.2 123584 INFO: Using Python shared library: /usr/lib/libpython3.12.so.1.0
#25 126.2 123586 INFO: Analyzing /opt/miniprint/server.py
#25 133.5 130834 INFO: Processing standard module hook 'hook-difflib.py' from '/usr/lib/python3.12/site-packages/PyInstaller/hooks'
#25 146.5 143831 INFO: Processing standard module hook 'hook-platform.py' from '/usr/lib/python3.12/site-packages/PyInstaller/hooks'
#25 147.6 144925 INFO: Processing standard module hook 'hook-sysconfig.py' from '/usr/lib/python3.12/site-packages/PyInstaller/hooks'
#25 169.8 167145 INFO: Processing standard module hook 'hook-multiprocessing.util.py' from '/usr/lib/python3.12/site-packages/PyInstaller/hooks'
#25 173.6 170985 INFO: Processing standard module hook 'hook-xml.py' from '/usr/lib/python3.12/site-packages/PyInstaller/hooks'
#25 206.1 203457 INFO: Processing module hooks (post-graph stage)...
#25 215.0 212384 INFO: Performing binary vs. data reclassification (5 entries)
#25 215.2 212552 INFO: Looking for ctypes DLLs
#25 215.7 213061 INFO: Analyzing run-time hooks ...
#25 215.7 213097 INFO: Including run-time hook 'pyi_rth_inspect.py' from '/usr/lib/python3.12/site-packages/PyInstaller/hooks/rthooks'
#25 215.9 213209 INFO: Including run-time hook 'pyi_rth_pkgutil.py' from '/usr/lib/python3.12/site-packages/PyInstaller/hooks/rthooks'
#25 215.9 213280 INFO: Including run-time hook 'pyi_rth_multiprocessing.py' from '/usr/lib/python3.12/site-packages/PyInstaller/hooks/rthooks'
#25 216.2 213556 INFO: Creating base_library.zip...
#25 218.0 215318 INFO: Looking for dynamic libraries
#25 226.2 223541 INFO: Warnings written to /opt/miniprint/build/server/warn-server.txt
#25 227.0 224368 INFO: Graph cross-reference written to /opt/miniprint/build/server/xref-server.html
#25 227.4 224744 INFO: checking PYZ
#25 227.4 224745 INFO: Building PYZ because PYZ-00.toc is non existent
#25 227.4 224746 INFO: Building PYZ (ZlibArchive) /opt/miniprint/build/server/PYZ-00.pyz
#25 236.2 233582 INFO: Building PYZ (ZlibArchive) /opt/miniprint/build/server/PYZ-00.pyz completed successfully.
#25 236.5 233836 INFO: checking PKG
#25 236.5 233838 INFO: Building PKG because PKG-00.toc is non existent
#25 236.5 233839 INFO: Building PKG (CArchive) server.pkg
#25 236.8 234159 INFO: Building PKG (CArchive) server.pkg completed successfully.
#25 236.8 234177 INFO: Bootloader /usr/lib/python3.12/site-packages/PyInstaller/bootloader/Linux-64bit-arm-musl/run
#25 236.8 234178 INFO: checking EXE
#25 236.8 234180 INFO: Building EXE because EXE-00.toc is non existent
#25 236.8 234181 INFO: Building EXE from EXE-00.toc
#25 236.8 234183 INFO: Copying bootloader EXE to /opt/miniprint/build/server/server
#25 236.8 234191 INFO: Appending PKG archive to custom ELF section in EXE
#25 237.1 234427 INFO: Building EXE from EXE-00.toc completed successfully.
#25 237.1 234476 INFO: checking COLLECT
#25 237.1 234478 INFO: Building COLLECT because COLLECT-00.toc is non existent
#25 237.1 234482 INFO: Building COLLECT COLLECT-00.toc
#25 237.3 234698 INFO: Building COLLECT COLLECT-00.toc completed successfully.
#25 237.4 234759 INFO: Build complete! The results are available in: /opt/miniprint/dist
#25 DONE 238.5s

#26 [miniprint linux/arm64 stage-1 3/6] COPY --from=builder /opt/miniprint/dist/* /opt/miniprint/
#26 DONE 0.2s

#27 [miniprint linux/arm64 stage-1 4/6] COPY --from=builder /opt/miniprint/fake-files/ /opt/miniprint/fake-files/
#27 DONE 0.0s

#28 [miniprint linux/arm64 stage-1 5/6] COPY --from=builder /opt/miniprint/uploads/ /opt/miniprint/uploads/
#28 DONE 0.0s

#29 [miniprint linux/arm64 stage-1 6/6] WORKDIR /opt/miniprint/
#29 DONE 0.0s

#30 [miniprint] exporting to image
#30 exporting layers
#30 exporting layers 3.2s done
#30 exporting manifest sha256:88015277f0f99ef68565108ecf6d050cd60aae28cf48423b69cb70800987a03c 0.0s done
#30 exporting config sha256:7f0c8cafa59a188ecb42b7a64bbde246937b9c2b832811271250328fdcc6ca58 0.0s done
#30 exporting attestation manifest sha256:89f1acb48c7e729f91d48835606544a9a281f1ce0b9691b4b213c906dde0b4ee 0.0s done
#30 exporting manifest sha256:d28058c9edb0c72e854d3ef1ce19879932101c011d76490b17084bc1decdc7a8 0.0s done
#30 exporting config sha256:057d978641d678f0e7d168bf439f827785c2a2eddd36625e577f96bf1e1aef3a 0.0s done
#30 exporting attestation manifest sha256:2f66bb7381f14312699ff3290a8f603c1e48ce3944e97cd5092a79d831d417a9 0.0s done
#30 exporting manifest list sha256:09843dd044466620d7459ceeb988900a768b3534183bba6deab779eeabf1d8c2 0.0s done
#30 pushing layers
#30 ...

#31 [miniprint auth] f0rc3ps/miniprint:pull,push token for registry-1.docker.io
#31 DONE 0.0s

#30 [miniprint] exporting to image
#30 ...

#32 [miniprint auth] f0rc3ps/miniprint:pull,push f0rc3ps/nginx:pull token for registry-1.docker.io
#32 DONE 0.0s

#30 [miniprint] exporting to image
#30 ...

#33 [miniprint auth] f0rc3ps/ipphoney:pull f0rc3ps/miniprint:pull,push token for registry-1.docker.io
#33 DONE 0.0s

#30 [miniprint] exporting to image
#30 pushing layers 16.5s done
#30 pushing manifest for docker.io/f0rc3ps/miniprint:24.04.1@sha256:09843dd044466620d7459ceeb988900a768b3534183bba6deab779eeabf1d8c2
#30 pushing manifest for docker.io/f0rc3ps/miniprint:24.04.1@sha256:09843dd044466620d7459ceeb988900a768b3534183bba6deab779eeabf1d8c2 3.9s done
#30 ...

#34 [miniprint auth] asc3t1c/miniprint:pull,push token for ghcr.io
#34 DONE 0.0s

#30 [miniprint] exporting to image
#30 ...

#35 [miniprint auth] asc3t1c/ipphoney:pull asc3t1c/miniprint:pull,push token for ghcr.io
#35 DONE 0.0s

#36 [miniprint auth] asc3t1c/miniprint:pull,push asc3t1c/nginx:pull token for ghcr.io
#36 DONE 0.0s

#30 [miniprint] exporting to image
#30 pushing layers 7.7s done
#30 pushing manifest for ghcr.io/asc3t1c/miniprint:24.04.1@sha256:09843dd044466620d7459ceeb988900a768b3534183bba6deab779eeabf1d8c2
#30 pushing manifest for ghcr.io/asc3t1c/miniprint:24.04.1@sha256:09843dd044466620d7459ceeb988900a768b3534183bba6deab779eeabf1d8c2 2.8s done
#30 DONE 34.3s

#37 [miniprint] resolving provenance for metadata file
#37 DONE 0.0s
