Compose now can delegate build to bake for better performances
Just set COMPOSE_BAKE=true
#0 building with "mybuilder" instance using docker-container driver

#1 [heralding internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.71kB 0.0s done
#1 DONE 0.0s

#2 [heralding auth] library/alpine:pull token for registry-1.docker.io
#2 DONE 0.0s

#3 [heralding linux/arm64 internal] load metadata for docker.io/library/alpine:3.20
#3 ...

#4 [heralding linux/amd64 internal] load metadata for docker.io/library/alpine:3.20
#4 DONE 0.8s

#3 [heralding linux/arm64 internal] load metadata for docker.io/library/alpine:3.20
#3 DONE 0.8s

#5 [heralding internal] load .dockerignore
#5 transferring context: 2B 0.0s done
#5 DONE 0.0s

#6 [heralding linux/amd64 1/4] FROM docker.io/library/alpine:3.20@sha256:de4fe7064d8f98419ea6b49190df1abbf43450c1702eeb864fe9ced453c1cc5f
#6 resolve docker.io/library/alpine:3.20@sha256:de4fe7064d8f98419ea6b49190df1abbf43450c1702eeb864fe9ced453c1cc5f 0.0s done
#6 DONE 0.0s

#7 [heralding linux/arm64 1/4] FROM docker.io/library/alpine:3.20@sha256:de4fe7064d8f98419ea6b49190df1abbf43450c1702eeb864fe9ced453c1cc5f
#7 resolve docker.io/library/alpine:3.20@sha256:de4fe7064d8f98419ea6b49190df1abbf43450c1702eeb864fe9ced453c1cc5f 0.0s done
#7 DONE 0.0s

#8 [heralding internal] load build context
#8 transferring context: 5.15kB 0.0s done
#8 DONE 0.0s

#9 [heralding linux/amd64 3/4] RUN apk --no-cache -U upgrade && 	apk --no-cache -U add 		build-base 		git 		libcap 		libffi-dev 		openssl-dev 		py3-pyzmq 		postgresql-dev 		py3-attrs 		py3-mysqlclient 		py3-nose 		py3-pip 		py3-psycopg2 		py3-pycryptodome 		py3-pyzmq 		py3-requests 		py3-rsa 		py3-typing-extensions 		py3-wheel 		py3-yaml 		python3 		python3-dev &&     mkdir -p /opt &&     cd /opt/ &&     git clone https://github.com/johnnykv/heralding &&     cd heralding &&     git checkout ac12724ab38c4e2fe78f07d1bc35e6e586ba69c0 &&     cp /root/dist/requirements.txt . &&     pip3 install --break-system-packages --no-cache-dir --upgrade pip &&     pip3 install --break-system-packages --no-cache-dir -r requirements.txt &&     pip3 install --break-system-packages --no-cache-dir . &&     addgroup -g 2000 heralding &&     adduser -S -H -s /bin/ash -u 2000 -D -g 2000 heralding &&     mkdir -p /var/log/heralding/ /etc/heralding &&     mv /root/dist/heralding.yml /etc/heralding/ &&     setcap cap_net_bind_service=+ep $(readlink -f $(type -P python3)) &&     chown -R heralding:heralding /var/log/heralding &&     apk del --purge 		build-base 		git 		libcap 		libffi-dev 		openssl-dev 		postgresql-dev 		python3-dev &&     rm -rf /root/* 		/var/cache/apk/* 		/opt/heralding
#9 CACHED

#10 [heralding linux/amd64 2/4] COPY dist/ /root/dist/
#10 CACHED

#11 [heralding linux/arm64 2/4] COPY dist/ /root/dist/
#11 CACHED

#12 [heralding linux/arm64 3/4] RUN apk --no-cache -U upgrade && 	apk --no-cache -U add 		build-base 		git 		libcap 		libffi-dev 		openssl-dev 		py3-pyzmq 		postgresql-dev 		py3-attrs 		py3-mysqlclient 		py3-nose 		py3-pip 		py3-psycopg2 		py3-pycryptodome 		py3-pyzmq 		py3-requests 		py3-rsa 		py3-typing-extensions 		py3-wheel 		py3-yaml 		python3 		python3-dev &&     mkdir -p /opt &&     cd /opt/ &&     git clone https://github.com/johnnykv/heralding &&     cd heralding &&     git checkout ac12724ab38c4e2fe78f07d1bc35e6e586ba69c0 &&     cp /root/dist/requirements.txt . &&     pip3 install --break-system-packages --no-cache-dir --upgrade pip &&     pip3 install --break-system-packages --no-cache-dir -r requirements.txt &&     pip3 install --break-system-packages --no-cache-dir . &&     addgroup -g 2000 heralding &&     adduser -S -H -s /bin/ash -u 2000 -D -g 2000 heralding &&     mkdir -p /var/log/heralding/ /etc/heralding &&     mv /root/dist/heralding.yml /etc/heralding/ &&     setcap cap_net_bind_service=+ep $(readlink -f $(type -P python3)) &&     chown -R heralding:heralding /var/log/heralding &&     apk del --purge 		build-base 		git 		libcap 		libffi-dev 		openssl-dev 		postgresql-dev 		python3-dev &&     rm -rf /root/* 		/var/cache/apk/* 		/opt/heralding
#12 CACHED

#13 [heralding linux/amd64 4/4] WORKDIR /tmp/heralding/
#13 CACHED

#14 [heralding linux/arm64 4/4] WORKDIR /tmp/heralding/
#14 CACHED

#15 [heralding] exporting to image
#15 exporting layers done
#15 exporting manifest sha256:a5814744bb97554b1217180b027a14e31c9f4605ea6acecaa083b854dec29e69 done
#15 exporting config sha256:b4a3ad306cd261a12023301532c7de78e29d6556f6b0323eb1652acc71a3b9bb
#15 exporting config sha256:b4a3ad306cd261a12023301532c7de78e29d6556f6b0323eb1652acc71a3b9bb done
#15 exporting attestation manifest sha256:feafd5bcce5b3aba2febcf8cc6b5b80cb22392fe8af787383074ee42942e3586 0.0s done
#15 exporting manifest sha256:3a5ad83c3b94a2346e7eeb5053152b3b90db4491acd6c42e763529b8c015a875 done
#15 exporting config sha256:6119d6a6744111d8320268d04b720a2022aaf05a0a2493a2e2c153318ba3dd7a done
#15 exporting attestation manifest sha256:6d9ffbf101e843f74ea0eb5c31f3e7bceb9849599681d05ca7f7ddca64655c14 0.0s done
#15 exporting manifest list sha256:cf6bb6cf0b10e045e3800e22ee1b27bb315c1ddc1fa4b535b81f1607f40c8721 done
#15 pushing layers
#15 ...

#16 [heralding auth] f0rc3ps/heralding:pull,push token for registry-1.docker.io
#16 DONE 0.0s

#15 [heralding] exporting to image
#15 pushing layers 1.5s done
#15 pushing manifest for docker.io/f0rc3ps/heralding:24.04.1@sha256:cf6bb6cf0b10e045e3800e22ee1b27bb315c1ddc1fa4b535b81f1607f40c8721
#15 pushing manifest for docker.io/f0rc3ps/heralding:24.04.1@sha256:cf6bb6cf0b10e045e3800e22ee1b27bb315c1ddc1fa4b535b81f1607f40c8721 2.1s done
#15 ...

#17 [heralding auth] asc3t1c/heralding:pull,push token for ghcr.io
#17 DONE 0.0s

#15 [heralding] exporting to image
#15 pushing layers 1.7s done
#15 pushing manifest for ghcr.io/asc3t1c/heralding:24.04.1@sha256:cf6bb6cf0b10e045e3800e22ee1b27bb315c1ddc1fa4b535b81f1607f40c8721
#15 pushing manifest for ghcr.io/asc3t1c/heralding:24.04.1@sha256:cf6bb6cf0b10e045e3800e22ee1b27bb315c1ddc1fa4b535b81f1607f40c8721 2.1s done
#15 DONE 7.4s

#18 [heralding] resolving provenance for metadata file
#18 DONE 0.0s
