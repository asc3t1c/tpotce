Compose now can delegate build to bake for better performances
Just set COMPOSE_BAKE=true
#0 building with "mybuilder" instance using docker-container driver

#1 [h0neytr4p internal] load build definition from Dockerfile
#1 transferring dockerfile: 984B 0.0s done
#1 DONE 0.0s

#2 [h0neytr4p linux/arm64 internal] load metadata for docker.io/library/golang:1.23-alpine
#2 ...

#3 [h0neytr4p linux/amd64 internal] load metadata for docker.io/library/golang:1.23-alpine
#3 DONE 0.2s

#4 [h0neytr4p internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#2 [h0neytr4p linux/arm64 internal] load metadata for docker.io/library/golang:1.23-alpine
#2 DONE 0.4s

#5 [h0neytr4p linux/arm64 builder  1/10] FROM docker.io/library/golang:1.23-alpine@sha256:f8113c4b13e2a8b3a168dceaee88ac27743cc84e959f43b9dbd2291e9c3f57a0
#5 resolve docker.io/library/golang:1.23-alpine@sha256:f8113c4b13e2a8b3a168dceaee88ac27743cc84e959f43b9dbd2291e9c3f57a0 0.0s done
#5 DONE 0.0s

#6 [h0neytr4p linux/amd64 builder  1/10] FROM docker.io/library/golang:1.23-alpine@sha256:f8113c4b13e2a8b3a168dceaee88ac27743cc84e959f43b9dbd2291e9c3f57a0
#6 resolve docker.io/library/golang:1.23-alpine@sha256:f8113c4b13e2a8b3a168dceaee88ac27743cc84e959f43b9dbd2291e9c3f57a0 0.0s done
#6 DONE 0.0s

#7 [h0neytr4p linux/arm64 builder  6/10] RUN go mod download
#7 CACHED

#8 [h0neytr4p linux/arm64 builder  9/10] RUN openssl req           -nodes           -x509           -sha512           -newkey rsa:4096           -keyout "app.key"           -out "app.crt"           -days 3650           -subj '/C=AU/ST=Some-State/O=Internet Widgits Pty Ltd'
#8 CACHED

#9 [h0neytr4p linux/arm64 stage-1 1/5] COPY --from=builder /app/main /opt/h0neytr4p/h0neytr4p
#9 CACHED

#10 [h0neytr4p linux/arm64 stage-1 3/5] COPY --from=builder /app/app.key /opt/h0neytr4p/
#10 CACHED

#11 [h0neytr4p linux/arm64 builder  7/10] RUN go mod tidy
#11 CACHED

#12 [h0neytr4p linux/arm64 builder  5/10] RUN git clone https://github.com/t3chn0m4g3/h0neytr4p -b v0.33 /app
#12 CACHED

#13 [h0neytr4p linux/arm64 builder  8/10] RUN go build -o /app/main
#13 CACHED

#14 [h0neytr4p linux/arm64 builder 10/10] RUN chmod 444 app.key app.crt
#14 CACHED

#15 [h0neytr4p linux/arm64 stage-1 2/5] COPY --from=builder /app/traps /opt/h0neytr4p/traps
#15 CACHED

#16 [h0neytr4p linux/arm64 stage-1 4/5] COPY --from=builder /app/app.crt /opt/h0neytr4p/
#16 CACHED

#17 [h0neytr4p linux/arm64 builder  2/10] WORKDIR /app
#17 CACHED

#18 [h0neytr4p linux/arm64 builder  3/10] RUN apk -U upgrade
#18 CACHED

#19 [h0neytr4p linux/arm64 builder  4/10] RUN apk -U add git openssl
#19 CACHED

#20 [h0neytr4p linux/arm64 stage-1 5/5] WORKDIR /opt/h0neytr4p
#20 CACHED

#21 [h0neytr4p linux/amd64 stage-1 1/5] COPY --from=builder /app/main /opt/h0neytr4p/h0neytr4p
#21 CACHED

#22 [h0neytr4p linux/amd64 builder  4/10] RUN apk -U add git openssl
#22 CACHED

#23 [h0neytr4p linux/amd64 builder  5/10] RUN git clone https://github.com/t3chn0m4g3/h0neytr4p -b v0.33 /app
#23 CACHED

#24 [h0neytr4p linux/amd64 stage-1 4/5] COPY --from=builder /app/app.crt /opt/h0neytr4p/
#24 CACHED

#25 [h0neytr4p linux/amd64 builder  6/10] RUN go mod download
#25 CACHED

#26 [h0neytr4p linux/amd64 builder  2/10] WORKDIR /app
#26 CACHED

#27 [h0neytr4p linux/amd64 stage-1 3/5] COPY --from=builder /app/app.key /opt/h0neytr4p/
#27 CACHED

#28 [h0neytr4p linux/amd64 stage-1 2/5] COPY --from=builder /app/traps /opt/h0neytr4p/traps
#28 CACHED

#29 [h0neytr4p linux/amd64 builder 10/10] RUN chmod 444 app.key app.crt
#29 CACHED

#30 [h0neytr4p linux/amd64 builder  8/10] RUN go build -o /app/main
#30 CACHED

#31 [h0neytr4p linux/amd64 builder  7/10] RUN go mod tidy
#31 CACHED

#32 [h0neytr4p linux/amd64 builder  9/10] RUN openssl req           -nodes           -x509           -sha512           -newkey rsa:4096           -keyout "app.key"           -out "app.crt"           -days 3650           -subj '/C=AU/ST=Some-State/O=Internet Widgits Pty Ltd'
#32 CACHED

#33 [h0neytr4p linux/amd64 builder  3/10] RUN apk -U upgrade
#33 CACHED

#34 [h0neytr4p linux/amd64 stage-1 5/5] WORKDIR /opt/h0neytr4p
#34 CACHED

#35 [h0neytr4p] exporting to image
#35 exporting layers done
#35 exporting manifest sha256:ea57c12d4abb5c5025b8a02d28a6b7ff037d037460ad7681d1017bf1a46fc270 done
#35 exporting config sha256:8940de8fb38ffa2121a3bc94954d1194f3240fee84314c651064365c95ae4d8c done
#35 exporting attestation manifest sha256:1e85f8880327242207169101dd462ef2ee4c5851c839b3121ffe70f2ff9843f3
#35 exporting attestation manifest sha256:1e85f8880327242207169101dd462ef2ee4c5851c839b3121ffe70f2ff9843f3 0.0s done
#35 exporting manifest sha256:8db4e98661b7557159414eac26106ce526278700a638ddb655b315dc1de55cd6 done
#35 exporting config sha256:0d41b570e0c755b69cd48cacba950b94b95a4d65f4f18964fdbcada0070d7d56 done
#35 exporting attestation manifest sha256:249b59269eab44529428250c6ee09a7b82f5a7a8db5037a5bd45072a8069664b 0.0s done
#35 exporting manifest list sha256:dcdb9b64294114ecbce79da86f47b1dec43ad39f546e38a36d03a5ce373487da 0.0s done
#35 pushing layers
#35 ...

#36 [h0neytr4p auth] f0rc3ps/h0neytr4p:pull,push token for registry-1.docker.io
#36 DONE 0.0s

#35 [h0neytr4p] exporting to image
#35 pushing layers 1.8s done
#35 pushing manifest for docker.io/f0rc3ps/h0neytr4p:24.04.1@sha256:dcdb9b64294114ecbce79da86f47b1dec43ad39f546e38a36d03a5ce373487da
#35 pushing manifest for docker.io/f0rc3ps/h0neytr4p:24.04.1@sha256:dcdb9b64294114ecbce79da86f47b1dec43ad39f546e38a36d03a5ce373487da 2.3s done
#35 ...

#37 [h0neytr4p auth] asc3t1c/h0neytr4p:pull,push token for ghcr.io
#37 DONE 0.0s

#35 [h0neytr4p] exporting to image
#35 pushing layers 1.7s done
#35 pushing manifest for ghcr.io/asc3t1c/h0neytr4p:24.04.1@sha256:dcdb9b64294114ecbce79da86f47b1dec43ad39f546e38a36d03a5ce373487da
#35 pushing manifest for ghcr.io/asc3t1c/h0neytr4p:24.04.1@sha256:dcdb9b64294114ecbce79da86f47b1dec43ad39f546e38a36d03a5ce373487da 2.3s done
#35 DONE 8.3s

#38 [h0neytr4p] resolving provenance for metadata file
#38 DONE 0.0s
